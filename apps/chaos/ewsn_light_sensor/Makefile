TARGET ?= sky

CONTIKI_PROJECT = ewsn_glossy_app
CONTIKI_WITH_CHAOS = 1
#CHAOS_NODE_DYNAMIC=0

CFLAGS += -DPROJECT_CONF_H=\"project-conf.h\"

CONTIKI = ../../..
include $(CONTIKI)/Makefile.include

ewsn: CFLAGS+=-DINITIATOR_NODE_ID=116 -DSINK_NODE_ID=219 -DCHAOS_NODES=15 -DTESTBED=ewsn -DCOOJA=0
ewsn: $(CONTIKI_PROJECT).ihex bytes
	cp $(CONTIKI_PROJECT).sky $(CONTIKI_PROJECT).ewsn.sky
	
ewsndebug: CFLAGS+=-DINITIATOR_NODE_ID=116 -DSINK_NODE_ID=219 -DCHAOS_NODES=15 -DTESTBED=ewsn -DCOOJA=0
ewsndebug: $(CONTIKI_PROJECT).ihex bytes
	cp $(CONTIKI_PROJECT).sky $(CONTIKI_PROJECT).ewsndebug.sky
	
ewsnflocklab: CFLAGS+=-DWITH_TINYOS_AUTO_IDS=1 -DTESTBED=flocklabewsn -DINITIATOR_NODE_ID=116 -DSINK_NODE_ID=219 -DCHAOS_NODES=15 -DCOOJA=0
ewsnflocklab: $(CONTIKI_PROJECT) bytes
	cp $(CONTIKI_PROJECT).sky $(CONTIKI_PROJECT).ewsnflocklab.sky

motes: CFLAGS+=-DTESTBED=ewsnmotes -DINITIATOR_NODE_ID=1 -DSINK_NODE_ID=3 -DCHAOS_NODES=10 -DCOOJA=0
motes: $(CONTIKI_PROJECT) bytes
	cp $(CONTIKI_PROJECT).sky $(CONTIKI_PROJECT).ewsnflocklab.sky
	
cooja: CFLAGS+=-DTESTBED=cooja -DINITIATOR_NODE_ID=1 -DSINK_NODE_ID=3 -DCHAOS_NODES=15 -DCOOJA=1
cooja: $(CONTIKI_PROJECT) bytes
	cp $(CONTIKI_PROJECT).sky $(CONTIKI_PROJECT).cooja15.sky
			
ewsnindriya: CFLAGS+=-DINITIATOR_NODE_ID=2 -DSINK_NODE_ID=130 -DWITH_TINYOS_AUTO_IDS=1 -DWITH_TINYOS_FRAME=1 -DTESTBED=indriya -DCOOJA=0
ewsnindriya: $(CONTIKI_PROJECT) bytes
	cp $(CONTIKI_PROJECT).sky $(CONTIKI_PROJECT).indriya.exe
	
all: $(CONTIKI_PROJECT)
	